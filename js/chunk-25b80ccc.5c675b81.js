(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25b80ccc"],{"14c3":function(t,e,a){var r=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},4601:function(t,e,a){"use strict";a.r(e);var r,n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("div",{staticClass:"row"},t._l(t.totalMeta,(function(e,r,n){return a("div",{key:r+n,staticClass:"col-25"},[a("div",{staticClass:"card card-with-icon"},[a("i",{staticClass:"card-icon",class:["el-icon-document-copy","el-icon-view","el-icon-star-off","el-icon-coin"][n]}),a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-meta"},[t._v("總"+t._s(t.$store.state.dictionary[r]))]),a("div",{staticClass:"hero"},[t._v(t._s(t._f("currency")(e)))])])])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-50"},[a("div",{staticClass:"card chart-container"},[a("div",{staticClass:"card-title"},[t._v(" "+t._s(t.$store.state.dictionary[t.barchartFilterConfig.dataType])+"圖表 "),a("el-popover",{attrs:{title:"資料篩選",trigger:"click",width:"300",placement:"right-start"}},[a("el-button",{staticClass:"float-right",attrs:{slot:"reference",icon:"el-icon-setting"},on:{click:function(e){t.popoverBarchart=!0}},slot:"reference"}),a("el-form",{attrs:{size:"mini","label-position":"top"}},[a("el-form-item",[a("el-select",{model:{value:t.barchartFilterConfig.dataType,callback:function(e){t.$set(t.barchartFilterConfig,"dataType",e)},expression:"barchartFilterConfig.dataType"}},[a("el-option",{attrs:{value:"view",label:"觀看數圖表"}}),a("el-option",{attrs:{value:"gp",label:"GP圖表"}})],1)],1),a("el-form-item",{attrs:{label:"排列依據"}},[a("el-select",{model:{value:t.barchartFilterConfig.dataSortBy,callback:function(e){t.$set(t.barchartFilterConfig,"dataSortBy",e)},expression:"barchartFilterConfig.dataSortBy"}},[a("el-option",{attrs:{value:"date",label:"時間：新→舊"}}),a("el-option",{attrs:{value:"view",label:"觀看數：高→低"}}),a("el-option",{attrs:{value:"gp",label:"GP：高→低"}})],1)],1),a("el-form-item",{attrs:{label:"顯示筆數"}},[a("el-select",{model:{value:t.barchartFilterConfig.dataLength,callback:function(e){t.$set(t.barchartFilterConfig,"dataLength",t._n(e))},expression:"barchartFilterConfig.dataLength"}},[a("el-option",{attrs:{value:-1,label:"全部"}}),a("el-option",{attrs:{value:10,label:"前10筆"}}),a("el-option",{attrs:{value:30,label:"前30筆"}}),a("el-option",{attrs:{value:50,label:"前50筆"}}),a("el-option",{attrs:{value:100,label:"前100筆"}})],1)],1),a("el-form-item",[a("el-switch",{attrs:{"active-text":"套用區間"},model:{value:t.barchartFilterConfig.dataRange,callback:function(e){t.$set(t.barchartFilterConfig,"dataRange",e)},expression:"barchartFilterConfig.dataRange"}})],1),a("el-form-item",[a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",disabled:!t.barchartFilterConfig.dataRange,min:0},model:{value:t.barchartFilterConfig.dataRangeMin,callback:function(e){t.$set(t.barchartFilterConfig,"dataRangeMin",e)},expression:"barchartFilterConfig.dataRangeMin"}})],1),a("el-col",{attrs:{span:2}},[t._v(" ~ ")]),a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",disabled:!t.barchartFilterConfig.dataRange,min:t.barchartFilterConfig.dataRangeMin},model:{value:t.barchartFilterConfig.dataRangeMax,callback:function(e){t.$set(t.barchartFilterConfig,"dataRangeMax",e)},expression:"barchartFilterConfig.dataRangeMax"}})],1)],1),a("el-button",{attrs:{size:"small",icon:"el-icon-refresh"},on:{click:function(e){return t.resetChaetConfig("barchartFilterConfig")}}},[t._v("重置")])],1)],1)],1),t.articlesData.length>0?a("bar-chart",{attrs:{inputData:t.barChartDataset}}):t._e()],1)]),a("div",{staticClass:"col-50"},[a("div",{staticClass:"card chart-container"},[a("div",{staticClass:"card-title"},[t._v(" 瀏覽 / GP 散佈圖 "),a("el-popover",{attrs:{title:"資料篩選",trigger:"click",width:"300",placement:"left-start"}},[a("el-button",{staticClass:"float-right",attrs:{slot:"reference",icon:"el-icon-setting"},on:{click:function(e){t.popoverScatterchart=!0}},slot:"reference"}),a("el-form",{attrs:{size:"mini","label-position":"top"}},[a("el-form-item",{attrs:{label:"顯示筆數"}},[a("el-col",{attrs:{span:12}},[a("el-select",{model:{value:t.scatterchartFilterConfig.dataType,callback:function(e){t.$set(t.scatterchartFilterConfig,"dataType",e)},expression:"scatterchartFilterConfig.dataType"}},[a("el-option",{attrs:{value:"date",label:"時間：新→舊"}}),a("el-option",{attrs:{value:"view",label:"觀看數：高→低"}}),a("el-option",{attrs:{value:"gp",label:"GP：高→低"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-select",{model:{value:t.scatterchartFilterConfig.dataLength,callback:function(e){t.$set(t.scatterchartFilterConfig,"dataLength",t._n(e))},expression:"scatterchartFilterConfig.dataLength"}},[a("el-option",{attrs:{value:-1,label:"全部"}}),a("el-option",{attrs:{value:10,label:"前10筆"}}),a("el-option",{attrs:{value:30,label:"前30筆"}}),a("el-option",{attrs:{value:50,label:"前50筆"}}),a("el-option",{attrs:{value:100,label:"前100筆"}})],1)],1)],1),a("el-form-item",[a("el-switch",{attrs:{"active-text":"套用觀看數區間"},model:{value:t.scatterchartFilterConfig.viewRange,callback:function(e){t.$set(t.scatterchartFilterConfig,"viewRange",e)},expression:"scatterchartFilterConfig.viewRange"}})],1),a("el-form-item",[a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:t.scatterchartFilterConfig.viewRangeMin,callback:function(e){t.$set(t.scatterchartFilterConfig,"viewRangeMin",e)},expression:"scatterchartFilterConfig.viewRangeMin"}})],1),a("el-col",{attrs:{span:2}},[t._v(" ~ ")]),a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",min:t.scatterchartFilterConfig.viewRangeMin},model:{value:t.scatterchartFilterConfig.viewRangeMax,callback:function(e){t.$set(t.scatterchartFilterConfig,"viewRangeMax",e)},expression:"scatterchartFilterConfig.viewRangeMax"}})],1)],1),a("el-form-item",[a("el-switch",{attrs:{"active-text":"套用GP區間"},model:{value:t.scatterchartFilterConfig.gpRange,callback:function(e){t.$set(t.scatterchartFilterConfig,"gpRange",e)},expression:"scatterchartFilterConfig.gpRange"}})],1),a("el-form-item",[a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:t.scatterchartFilterConfig.gpRangeMin,callback:function(e){t.$set(t.scatterchartFilterConfig,"gpRangeMin",e)},expression:"scatterchartFilterConfig.gpRangeMin"}})],1),a("el-col",{attrs:{span:2}},[t._v(" ~ ")]),a("el-col",{attrs:{span:11}},[a("el-input-number",{attrs:{"controls-position":"right",min:t.scatterchartFilterConfig.gpRangeMin},model:{value:t.scatterchartFilterConfig.gpRangeMax,callback:function(e){t.$set(t.scatterchartFilterConfig,"gpRangeMax",e)},expression:"scatterchartFilterConfig.gpRangeMax"}})],1)],1),a("el-button",{attrs:{size:"small",icon:"el-icon-refresh"},on:{click:function(e){return t.resetChaetConfig("scatterchartFilterConfig")}}},[t._v("重置")])],1)],1)],1),t.articlesData.length>0?a("scatter-chart",{attrs:{inputData:t.scatterDataset}}):t._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"card chart-container calendar-container"},[a("div",{staticClass:"card-title"},[t._v("文章年表")]),a("el-select",{attrs:{filterable:"",placeholder:"請選擇年分","no-match-text":"查無年分","no-data-text":"年分錯誤"},model:{value:t.calendarchart.sessionRange,callback:function(e){t.$set(t.calendarchart,"sessionRange",e)},expression:"calendarchart.sessionRange"}},t._l(t.calendarchart.options,(function(t){return a("el-option",{key:t,attrs:{value:t.toString(),label:t}})})),1),t.articlesData.length>0?a("calendar-chart",{attrs:{inputData:t.calenderDataset,sessionRange:t.calendarchart.sessionRange}}):t._e(),a("p",[t._v("年總數："+t._s(t.calenderDataset.length)+"篇")]),a("p",[t._v("月平均："+t._s(t._.round(t.calenderDataset.length/12,1))+"篇")])],1)])])])},l=[],o=(a("99af"),a("4de4"),a("caad"),a("d81d"),a("fb6a"),a("d3b7"),a("25f0"),a("2532"),a("2909")),c=(a("ac1f"),a("5319"),a("2ef0")),s={filters:{currency:function(t){var e=Object(c["isNumber"])(t)?t.toString():t;return e.replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")}}},u=s,f=a("2877"),g=Object(f["a"])(u,r,n,!1,null,null,null),p=g.exports,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-chart",{attrs:{autoresize:!0,options:t.options}})},h=[],v=(a("b0c0"),"#42b983"),b={props:["inputData"],data:function(){return{options:{color:[v],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},dataZoom:[{type:"inside"},{type:"slider",fillerColor:"rgba(66,185,131,0.25)",textStyle:{color:"#999"},dataBackground:{lineStyle:{color:"rgba(66,185,131,0.5)"},areaStyle:{color:"rgba(66,185,131,0.5)"}}}],xAxis:{type:"category",show:!1},yAxis:{type:"value"},dataset:{source:this.inputData},series:[{type:"bar",encode:{x:0,y:1,tooltip:[1]}}]}}},watch:{inputData:{immediate:!0,handler:function(t){this.options.dataset.source=t;var e=t.slice(1,-1);this.options.yAxis.max=Math.max.apply(Math,Object(o["a"])(e.map((function(t){return t[1]})))),this.options.yAxis.name=this.$store.state.dictionary[this.inputData[0][1]]}}}},m=b,C=Object(f["a"])(m,d,h,!1,null,null,null),x=C.exports,R=a("663d"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-chart",{attrs:{autoresize:!0,options:t.options}})},F=[],_={props:["inputData","sessionRange"],data:function(){return{options:{tooltip:{formatter:function(t){return"<b>".concat(t.value[0],"</b> <br> ").concat(t.value[1])}},visualMap:{show:!1},dataset:{source:this.inputData},calendar:{range:this.sessionRange,cellSize:["auto",30],yearLabel:{position:"top",margin:40},monthLabel:{nameMap:"cn",margin:20},dayLabel:{firstDay:1,nameMap:"cn"}},series:[{type:"heatmap",coordinateSystem:"calendar",encode:{value:2}}]}}},watch:{inputData:function(t){this.options.dataset.source=t},sessionRange:function(t){this.options.calendar.range=t}}},w=_,E=Object(f["a"])(w,y,F,!1,null,null,null),D=E.exports,$={mixins:[p],components:{barChart:x,scatterChart:R["a"],calendarChart:D},data:function(){return{popoverBarchart:!1,popoverScatterchart:!1,barchartFilterConfig:{},scatterchartFilterConfig:{},calendarchart:{options:[],sessionRange:""}}},methods:{resetChaetConfig:function(t){this[t]=this._.cloneDeep(this.$store.state.dashboardConfig[t])}},computed:{articlesData:function(){return this._.cloneDeep(this.$store.state.allData)},totalMeta:function(){var t=this._.sumBy;return{count:this.articlesData.length,view:t(this.articlesData,(function(t){return t.meta.view})),gp:t(this.articlesData,(function(t){return t.meta.gp})),coin:t(this.articlesData,(function(t){return t.meta.coin}))}},barChartDataset:function(){var t=this,e=t.barchartFilterConfig,a=e.dataType,r=e.dataSortBy,n=e.dataLength,i=e.dataRange,l=e.dataRangeMin,c=e.dataRangeMax,s=t.articlesData;return i&&(s=s.filter((function(e){return t._.inRange(e.meta[a],l,c+1)}))),s="date"===r?t._.sortBy(s,(function(t){return new Date(t.meta[r])})).reverse():t._.sortBy(s,(function(t){return t.meta[r]})).reverse(),-1!==n&&(s=s.slice(0,n)),s=[["title",a]].concat(Object(o["a"])(s.map((function(t){return[t.title,t.meta[a]]})))),s},scatterDataset:function(){var t=this,e=t.scatterchartFilterConfig,a=e.dataType,r=e.dataLength,n=e.viewRange,i=e.viewRangeMin,l=e.viewRangeMax,o=e.gpRange,c=e.gpRangeMin,s=e.gpRangeMax,u=t.articlesData;return n&&(u=u.filter((function(e){return t._.inRange(e.meta.view,i,l+1)}))),o&&(u=u.filter((function(e){return t._.inRange(e.meta.gp,c,s+1)}))),u="date"===a?t._.sortBy(u,(function(t){return new Date(t.meta[a])})).reverse():t._.sortBy(u,(function(t){return t.meta[a]})).reverse(),-1!==r&&(u=u.slice(0,r)),u.map((function(t){return{title:t.title,gp:t.meta.gp,view:t.meta.view}}))},calenderDataset:function(){var t=this,e=this.articlesData.map((function(t){return[t.meta.date,t.title,t.meta.view]}));return e=e.filter((function(e){return t._.includes(e[0],t.calendarchart.sessionRange)})),e}},created:function(){var t=(new Date).getFullYear();this.calendarchart.sessionRange=t.toString(),this.calendarchart.options=function(){for(var e=[],a=1996;a<=t;a+=1)e.push(a);return e.reverse()}(),this.barchartFilterConfig=this._.cloneDeep(this.$store.state.dashboardConfig.barchartFilterConfig),this.scatterchartFilterConfig=this._.cloneDeep(this.$store.state.dashboardConfig.scatterchartFilterConfig)}},M=$,S=Object(f["a"])(M,i,l,!1,null,null,null);e["default"]=S.exports},"4de4":function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").filter,i=a("1dde"),l=a("ae40"),o=i("filter"),c=l("filter");r({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5319:function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),i=a("7b0b"),l=a("50c4"),o=a("a691"),c=a("1d80"),s=a("8aa5"),u=a("14c3"),f=Math.max,g=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,a,r){var b=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=r.REPLACE_KEEPS_$0,C=b?"$":"$0";return[function(a,r){var n=c(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,r):e.call(String(n),a,r)},function(t,r){if(!b&&m||"string"===typeof r&&-1===r.indexOf(C)){var i=a(e,t,this,r);if(i.done)return i.value}var c=n(t),p=String(this),d="function"===typeof r;d||(r=String(r));var h=c.global;if(h){var R=c.unicode;c.lastIndex=0}var y=[];while(1){var F=u(c,p);if(null===F)break;if(y.push(F),!h)break;var _=String(F[0]);""===_&&(c.lastIndex=s(p,l(c.lastIndex),R))}for(var w="",E=0,D=0;D<y.length;D++){F=y[D];for(var $=String(F[0]),M=f(g(o(F.index),p.length),0),S=[],k=1;k<F.length;k++)S.push(v(F[k]));var T=F.groups;if(d){var P=[$].concat(S,M,p);void 0!==T&&P.push(T);var I=String(r.apply(void 0,P))}else I=x($,p,M,S,T,r);M>=E&&(w+=p.slice(E,M)+I,E=M+$.length)}return w+p.slice(E)}];function x(t,a,r,n,l,o){var c=r+t.length,s=n.length,u=h;return void 0!==l&&(l=i(l),u=d),e.call(o,u,(function(e,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,r);case"'":return a.slice(c);case"<":o=l[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>s){var f=p(u/10);return 0===f?e:f<=s?void 0===n[f-1]?i.charAt(1):n[f-1]+i.charAt(1):e}o=n[u-1]}return void 0===o?"":o}))}}))},"8aa5":function(t,e,a){"use strict";var r=a("6547").charAt;t.exports=function(t,e,a){return e+(a?r(t,e).length:1)}},9263:function(t,e,a){"use strict";var r=a("ad6d"),n=a("9f7f"),i=RegExp.prototype.exec,l=String.prototype.replace,o=i,c=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=c||u||s;f&&(o=function(t){var e,a,n,o,f=this,g=s&&f.sticky,p=r.call(f),d=f.source,h=0,v=t;return g&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,h++),a=new RegExp("^(?:"+d+")",p)),u&&(a=new RegExp("^"+d+"$(?!\\s)",p)),c&&(e=f.lastIndex),n=i.call(g?a:f,v),g?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=f.lastIndex,f.lastIndex+=n[0].length):f.lastIndex=0:c&&n&&(f.lastIndex=f.global?n.index+n[0].length:e),u&&n&&n.length>1&&l.call(n[0],a,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=o},"9f7f":function(t,e,a){"use strict";var r=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},d784:function(t,e,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),i=a("b622"),l=a("9263"),o=a("9112"),c=i("species"),s=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),g=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,f){var d=i(t),h=!n((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=h&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[d]=/./[d]),a.exec=function(){return e=!0,null},a[d](""),!e}));if(!h||!v||"replace"===t&&(!s||!u||g)||"split"===t&&!p){var b=/./[d],m=a(d,""[t],(function(t,e,a,r,n){return e.exec===l?h&&!n?{done:!0,value:b.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),C=m[0],x=m[1];r(String.prototype,t,C),r(RegExp.prototype,d,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}f&&o(RegExp.prototype[d],"sham",!0)}}}]);
//# sourceMappingURL=chunk-25b80ccc.5c675b81.js.map